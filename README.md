# QuickChat

QuickChat — это приложение для обмена сообщениями в реальном времени, которое позволяет пользователям регистрироваться,
входить в систему, выбирать контакты и вести мгновенные чаты. Фронтенд построен как десктопное приложение с
использованием `PyQt6`, в то время как бэкенд работает на `Django/DRF` с *RESTful API*. Общение в реальном времени
обрабатывается
через `Centrifugo`, сервер pub/sub на основе *WebSocket*.

## Функции

- Аутентификация пользователей: Безопасная регистрация и вход с использованием `JWT-токенов`.
- Выбор контактов: Список доступных пользователей для начала чатов.
- Чат в реальном времени: Мгновенная доставка сообщений и загрузка истории с использованием подписок `Centrifugo`.
- История сообщений: Загружает до 3000 последних сообщений в чате.
- Компоненты интерфейса: Интуитивные интерфейсы на базе `PyQt6` для входа, регистрации, выбора контактов и окон чата.
- Обработка ошибок: Базовая обработка ошибок входа, проблем с соединением и отправкой сообщений.

## Технологический стек

### Фронтенд

- *Python 3*
- *PyQt6* (для компонентов графического интерфейса)
- *requests* (для вызовов API)
- *centrifuge-python* (для подключений WebSocket к Centrifugo)
- *asyncio* (для асинхронных операций в потоках)

### Бэкенд

- *Django* (с *Django REST Framework*)
- *SimpleJWT* (для аутентификации на основе токенов)
- *PostgreSQL* (предполагается для хранения данных пользователей, на основе типичной настройки Django)

## Структура проекта

### Frontend

- authorization.py: Обработка формы входа, аутентификации пользователя и подписки Centrifugo на каналы, специфичные для
  пользователя. Управление регистрацией пользователя и перенаправление на вход.
- chat.py: Реализация окна чата с отправкой, получением и отображением сообщений.
- contacts.py: Отображение списка пользователей и перенаправление в чат.
- designers: Файлы интерфейса (например, Ui_LoginForm, Ui_RegisterForm, Ui_ChatWindow, Ui_ContactSelector),
  сгенерированные из Qt Designer.
- services: Утилитные классы для управления токенами, именами пользователей, получателями (например, TokenManager,
  UsernameManager).

### Backend

- **chat/views.py**: Конечная точка API для отправки сообщений чата и публикации в Centrifugo.
- **user/views.py**: Конечные точки API для регистрации пользователей, списка пользователей и получения токенов.
- **Serializers**: CreateChatSerializer, CreateUserSerializer, ListUserSerializer, CustomTokenObtainPairSerializer.
- **Models**: Модель User (расширяет Django's AbstractUser).

Полный проект доступен по адресу: https://github.com/UsmanA07/QuickChat-Backend

## Установка

### Предварительные требования

- *Python 3.8+*
- pip для установки зависимостей

### Настройка бэкенда

1. Клонируйте репозиторий:
    ```
   git clone https://github.com/UsmanA07/QuickChat-Backend.git
   cd QuickChat-Backend
    ```
2. Запустите `Docker`
    ```
   sudo docker-compose up --build
   ```


### Настройка фронтенда

1. Установите зависимости:
    ```
    pip install requirements.txt
    ```
2. Запустите приложение:
    ```
    python frontend/main.py
    ```

## Использование

1. Зарегистрируйте нового пользователя или войдите с существующими учетными данными.
2. Выберите контакт из списка, чтобы открыть окно чата.
3. Отправляйте и получайте сообщения в реальном времени.
